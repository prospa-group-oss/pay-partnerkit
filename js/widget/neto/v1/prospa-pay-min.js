!function(){if(document.getElementById("prospa-pay")){var t=void 0,e=void 0,o=document.getElementById("prospa-pay").getAttribute("minprice")||50,a="",p=!1,r=document.getElementById("prospa-pay").getAttribute("step")||"product";!function(){var t=window.analytics=window.analytics||[];if(!t.initialize)if(t.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{t.invoked=!0,t.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],t.factory=function(e){return function(){var o=Array.prototype.slice.call(arguments);return o.unshift(e),t.push(o),t}};for(var e=0;e<t.methods.length;e++){var o=t.methods[e];t[o]=t.factory(o)}t.load=function(e,o){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var p=document.getElementsByTagName("script")[0];p.parentNode.insertBefore(a,p),t._loadOptions=o},t.SNIPPET_VERSION="4.1.0",t.load("u5j2Ccd2Do623Vd7FP5m5BdZNHS5bNIS"),t.page()}}(),function(){o=Number(o)?Number(o):0,s(),n();try{jQuery(document.body).on("updated_cart_totals",function(){n(),i()})}catch(t){}document.addEventListener("DOMContentLoaded",function(t){s(),i()})}()}function i(){d("cart"==r?"Cart Viewed":"Product Viewed")}function n(){t=document.getElementById("prospa-pay").getAttribute("price"),function(){if(t>=o&&t<=2e4)e=(Number(t)/13).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),a='<div id="prospa-pay-box" style="margin-bottom:20px; border:2px solid #DDE3E8;padding: 14px 18px 14px 18px; max-width:max-content;border-radius:4px"><a id="prospa-pay-modal-link" href="#prospa-pay-modal" style="text-decoration: none;">       <span id="prospa-pay-offer" style="font-size:15px; font-family: \'Karla\', sans-serif; color:#000; font-weight:400; line-height:26px; text-align:left">or 13 interest-free payments of <span id="prospa-pay-instalment" style="font-family: \'Karla\', sans-serif; font-weight:700; font-size:17px;">$'+e+'</span> with <img src="https://partner-kit.prospa.com/assets/prospa-pay-inline.png" style="max-width: 117px; display:inline;vertical-align:middle; border-radius:0px"/> <u>More info</u></span></a></div>';else if(isNaN(t)||null==t||null==t||""==t)a='<div id="prospa-pay-box" style="margin-bottom:20px; border:2px solid #DDE3E8;padding: 14px 18px 14px 18px; max-width:max-content;border-radius:4px"><a id="prospa-pay-modal-link" href="#prospa-pay-modal" style="text-decoration: none;"><span id="prospa-pay-offer" style="font-size:15px; font-family: \'Karla\', sans-serif; color:#000; font-weight:400; line-height:26px; text-align:left">or split it into 13 interest-free payments with <img src="https://partner-kit.prospa.com/assets/prospa-pay-inline.png" style="max-width: 117px; display:inline;vertical-align:middle"/><u>More info</u></span></a></div>';else if(t<o||t>2e4)return void(p=!1);document.getElementById("prospa-pay").innerHTML=a,p=!0,document.body.insertAdjacentHTML("beforeend",'<div id="prospa-pay-modal" class="prospa-pay-overlay"><a id="prospa-pay-offer" class="prospa-pay-cancel" href="#" onclick="location.href=\'#\'"></a><div class="prospa-pay-modal"><div class="prospa-pay-content"><img src="https://partner-kit.prospa.com/assets/prospa-pay-how-it-works.png" width="100%"></div></div></div>'),document.getElementById("prospa-pay-modal-link").addEventListener("click",function(){d("ProspaPay Offer Viewed")}),document.getElementById("prospa-pay").insertAdjacentHTML("beforebegin",'<style type="text/css">                                                                                       @import url(https://fonts.googleapis.com/css?family=Karla:400,700);#prospa-pay{padding-top:10px;padding-bottom:10px}.prospa-pay-overlay{position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.8);transition:opacity .2s;visibility:hidden;opacity:0}.prospa-pay-overlay .prospa-pay-cancel{position:absolute;width:100%;height:100%;cursor:default}#prospa-pay-box,.prospa-pay-modal{position:relative;background:#fff}.prospa-pay-overlay:target{visibility:visible;opacity:1}#prospa-pay-modal.prospa-pay-overlay{z-index:1000000}.prospa-pay-modal{margin:100px auto;width:100%;max-width:710px;border-radius:2px;box-shadow:0 0 50px rgba(0,0,0,.5)}.prospa-pay-modal .prospa-pay-content{max-height:490px;overflow:auto}#prospa-pay-box{border:4px solid #DDE3E8;border-radius:15px};border-bottom-color:#fff;border-width:6px;margin-left:-6px}#prospa-pay-box:before{border-color:rgba(50,59,64,0);border-bottom-color:#DDE3E8;border-width:9px;margin-left:-9px}                                                                                    </style>')}()}function s(){for(var t=document.querySelectorAll('button[type="button"],button[type="submit"]'),e=0;e<t.length;e++)if(-1!==t[e].innerText.search(/add to cart/i)){t[e].addEventListener("click",function(){d("Added To Cart")});break}}function d(o){analytics.track(o,{instalmentPrice:e,offerCopy:document.getElementById("prospa-pay").innerText,offerDisplayed:p,productName:document.getElementById("prospa-pay").getAttribute("productname"),productPrice:t,url:document.URL,store:document.getElementById("prospa-pay").getAttribute("store"),step:r})}}();
